<div class="container my-4">
  <h2 class="mb-4">Your Conversations</h2>
  
  <% if @conversations.any? %>
    <div class="list-group">
      <% @conversations.each do |conversation| %>
        <%= link_to conversation_path(conversation), class: "list-group-item list-group-item-action" do %>
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-1">
              <% if current_user.id == conversation.buyer_id %>
                Conversation with <%= conversation.seller.email %>
              <% else %>
                Conversation with <%= conversation.buyer.email %>
              <% end %>
            </h5>
            <small><%= time_ago_in_words(conversation.updated_at) %> ago</small>
          </div>
          <% if conversation.messages.any? %>
            <p class="mb-1 text-truncate"><%= conversation.messages.last.content %></p>
          <% else %>
            <p class="mb-1 text-muted">No messages yet</p>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="alert alert-info">
      You don't have any conversations yet.
    </div>
  <% end %>
</div>